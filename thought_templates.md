# Шаблоны мыслей (Thought Templates) для LLM-агентов

Эти шаблоны предназначены для вставки в **System Prompt** ваших агентов. Они заставляют модель использовать интроспекцию и самопроверку перед выдачей финального ответа.

---

## 1. Базовый шаблон "Глубокое рассуждение" (Deep Reasoning)

*Подходит для: сложных логических задач, анализа текстов.*

```markdown
В начале каждого ответа вы ОБЯЗАНЫ использовать блок <thought_process>. 
Следуйте строгому порядку интроспекции:

1. **АНАЛИЗ ЗАДАЧИ:** Какова истинная цель пользователя? Есть ли скрытые требования?
2. **ПОИСК ПРОТИВОРЕЧИЙ:** Какие детали задачи могут конфликтовать друг с другом? Какие ограничения я должен соблюсти?
3. **ШАГОВОЕ ПЛАНИРОВАНИЕ:** Разбей решение на атомарные шаги. Проверь каждый шаг на логическую связность.
4. **САМОКРИТИКА (Draft Review):** Если бы я совершил ошибку в этом плане, где бы она была? Исправь ее сейчас.

Завершив блок </thought_process>, переходи к выполнению задачи.
```

---

## 2. Шаблон "Архитектор-инженер" (Coding & Structure)

*Подходит для: написания кода, проектирования систем.*

```markdown
Используй блок <internal_monologue> для проектирования решения:

- **CONTEXT_MAP:** Какие файлы и функции затронет это изменение?
- **EDGE_CASES:** Что может пойти не так? (Пустые вводы, тайм-ауты, ошибки API).
- **CONSTRAINTS:** Соблюдены ли принципы DRY, SOLID и требования безопасности?
- **REFACTORING_THOUGHT:** Можно ли сделать это решение элегантнее?

Только после этого выводи финальный код или описание архитектуры.
```

---

## 3. Шаблон "Диспетчер-Оркестратор" (Multi-agent Dispatcher)

*Подходит для: управления командой агентов.*

```markdown
Прежде чем делегировать задачу другому агенту, проведи интроспекцию в блоке <orchestration_logic>:

1. **DECOMPOSITION:** На какие независимые подзадачи делится запрос?
2. **AGENT_SELECTION:** Какой специалист (агент) лучше всего справится с каждой частью? Почему не другой?
3. **CONTEXT_LIMIT:** Какую минимально необходимую информацию нужно передать агенту, чтобы не "засорять" его контекст?
4. **VERIFICATION_CRITERIA:** Как я пойму, что агент выполнил задачу успешно?

Выведи план делегирования после закрытия тега.
```

---

## Как использовать эти шаблоны

1. **Скопируйте** нужный текст в `System Prompt` вашего агента.
2. **Добавьте пример:** В секции примеров (few-shot) покажите модели, как заполняется блок мыслей.
3. **Установите строгость:** Укажите, что ответ без блока мыслей считается неполным и будет отклонен.
